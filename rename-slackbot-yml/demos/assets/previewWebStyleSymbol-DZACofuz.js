import{b9 as h,bq as n}from"./main-BVHtOxv7.js";import{t as s}from"./utils-DPChUcB1.js";import{e as l}from"./webStyleAcceptedFormats-CG7ZQ6BV.js";import"./preload-helper-ExcqyqRp.js";import"./globalCss-AlQtz0ni.js";import"./Queue-Dta2xkqk.js";import"./signal-Dy5pYtri.js";import"./Version-CDiAHeur.js";import"./jsxFactory-Bit0RCuS.js";import"./intl-Dzuz2qIQ.js";import"./uuid-Cl5lrJ4c.js";import"./utils-Bm461p_j.js";import"./jsonUtils--jTJLOaQ.js";import"./parser-BBOtPXDA.js";import"./mat4f32-DcsiF_Rp.js";import"./mat4-DP9l3wuK.js";import"./common-DQOJ18NT.js";import"./cimSymbolUtils-CPbI6Ywf.js";import"./utils-BRg6PM3S.js";import"./defaultCIMValues-DII_GG3u.js";import"./enums-BJSSbDkD.js";import"./LRUCache-XCNWG_lo.js";import"./MemCache-DT4YwGdH.js";import"./colorUtils-CD6oK8qc.js";import"./vec42-CKs01hkn.js";import"./vec4f64-o2zAXfmz.js";import"./mat2df32-orApM5a3.js";import"./mat2d-D9DBP-jx.js";import"./webStyleSymbolUtils-BGd3qlKv.js";import"./devEnvironmentUtils-8WtPGj6h.js";import"./styleUtils-BhZbDn4m.js";import"./ColorStop-23tFxh0W.js";import"./TimeExtent-BOEUyCcp.js";import"./utils-BQqb2mYG.js";import"./timeZoneUtils-BH2IQNyw.js";import"./typeUtils-OfWEjx7w.js";import"./ClassBreaksRenderer-BtWx1XvC.js";import"./commonProperties-CXM1auyM.js";import"./colorRamps-B9oemqFG.js";import"./visualVariableUtils-DhunbOkI.js";import"./lengthUtils-CwkzkhFR.js";import"./RendererLegendOptions-FJNpN7Hq.js";import"./FieldsIndex-BbR7VldB.js";import"./heatmapUtils-Cz8pNWDs.js";import"./SimpleRenderer-Bmmpwxvn.js";import"./UniqueValueRenderer-DwFWx3-O.js";import"./diffUtils-DpUyETaL.js";async function ei(i,t,o){const r=i.thumbnail?.url;if(r){const p=c((await h(r,{responseType:"image"})).data,o);return o?.node?(o.node.appendChild(p),o.node):p}const m=await i.fetchSymbol({acceptedFormats:l});return m?t(m,o):null}function c(i,t){const o=!/\\.svg$/i.test(i.src)&&t?.disableUpsampling,r=Math.max(i.width,i.height);let m=t?.maxSize!=null?n(t.maxSize):s.maxSize;o&&(m=Math.min(r,m));const p=typeof t?.size=="number"?t?.size:null,e=Math.min(m,p!=null?n(p):r);if(e!==r){const a=i.width!==0&&i.height!==0?i.width/i.height:1;a>=1?(i.width=e,i.height=e/a):(i.width=e*a,i.height=e)}return i}export{ei as previewWebStyleSymbol};
